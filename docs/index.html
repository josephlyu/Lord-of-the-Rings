<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Lord of the Rings</title>
    <link rel="icon" href="icon.png" />
    <meta property="og:title" content="Lord of the Rings" />
    <meta
      property="og:description"
      content='Network Visualization for major characters in "The Lord of the Rings"'
    />
    <meta
      property="og:image"
      content="https://lotr.shangjielyu.com/og_img.png"
    />
    <meta property="og:url" content="https://lotr.shangjielyu.com/" />
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
    <script>
      function addLogo() {
        const colorFilter =
          "invert(26%) sepia(21%) saturate(2242%) hue-rotate(6deg) brightness(98%) contrast(91%)";
        let logo = document.createElement("img");
        logo.src = "logo.png";
        logo.style.position = "absolute";
        logo.style.top = "1em";
        logo.style.left = "1em";
        logo.style.zIndex = "9999";
        logo.style.width = "8em";
        logo.style.height = "auto";
        logo.style.filter = colorFilter;
        logo.style.cursor = "pointer";
        logo.style.imageRendering = "crisp-edges";
        logo.addEventListener("mouseover", function () {
          this.style.filter = "invert(100%)";
        });
        logo.addEventListener("mouseout", function () {
          this.style.filter = colorFilter;
        });
        logo.addEventListener("click", function () {
          window.location.href = "https://portfolio.shangjielyu.com/";
        });
        document.body.appendChild(logo);
      }
    </script>
    <style>
      @font-face {
        font-family: "Ringbearer";
        src: url("fonts/ringbearer.woff2") format("woff2"),
          url("fonts/ringbearer.woff") format("woff");
      }

      html,
      body {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
      }

      #myChart {
        height: 100%;
        width: 100%;
        min-height: 150px;
      }

      .zc-ref {
        display: none;
      }
    </style>
  </head>

  <body onload="addLogo()">
    <div id="myChart"></div>
    <script>
      const textColor = "#dcdcdc";
      // const textColor = "#edf1ef";
      const mainColor = "#dfa027";

      let chartData = [
        {
          type: "node",
          id: "Pippin",
          text: "Pippin",
          cls: "main",
          dataFullName: "Peregrin Took<br>Race: Hobbits",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/pippin.jpg",
          },
        },
        {
          type: "node",
          id: "Merry",
          text: "Merry",
          cls: "main",
          dataFullName: "Meriadoc Brandybuck<br>Race: Hobbits",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/merry.jpg",
          },
        },
        {
          type: "node",
          id: "Celeborn",
          text: "Celeborn",
          dataFullName: "Celeborn",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/celeborn.jpg",
          },
        },
        {
          type: "node",
          id: "Elrond",
          text: "Elrond",
          dataFullName: "Elrond",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/elrond.jpg",
          },
        },
        {
          type: "node",
          id: "Legolas",
          text: "Legolas",
          cls: "main",
          dataFullName: "Legolas",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/legolas.jpg",
          },
        },
        {
          type: "node",
          id: "Arwen",
          text: "Arwen",
          dataFullName: "Arwen",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/arwen.jpg",
          },
        },
        {
          type: "node",
          id: "Sam",
          text: "Sam",
          cls: "main",
          dataFullName: "Samwise Gamgee",
          style: { "background-fit": "xy", backgroundImage: "avatars/sam.jpg" },
        },
        { type: "node", id: "n5", cls: "fam", text: "", dataFullName: "" },

        {
          type: "node",
          id: "Frodo",
          text: "Frodo",
          cls: "main",
          dataFullName: "Frodo Baggins",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/frodo.jpg",
          },
        },

        {
          type: "node",
          id: "Galadriel",
          text: "Galadriel",
          dataFullName: "Galadriel",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/galadriel.jpg",
          },
        },
        { type: "node", id: "n6", cls: "fam", text: "", dataFullName: "" },
        {
          type: "node",
          id: "Gwaihir",
          text: "Gwaihir",
          dataFullName: "Gwaihir",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/gwaihir.jpg",
          },
        },
        {
          type: "node",
          id: "Théoden",
          text: "Théoden",
          dataFullName: "Théoden",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/theoden.jpg",
          },
        },
        { type: "node", id: "n7", cls: "fam", text: "", dataFullName: "" },
        {
          type: "node",
          id: "n2",
          cls: "main",
          text: "The Fellowship",
          dataFullName: "The Fellowship of the Rings",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/fellowship.jpg",
          },
        },

        {
          type: "node",
          id: "Gandalf",
          text: "Gandalf",
          cls: "main",
          dataFullName: "Gandalf",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/gandalf.jpg",
          },
        },
        {
          type: "node",
          id: "Treebeard",
          text: "Treebeard",
          dataFullName: "Treebeard",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/treebeard.jpg",
          },
        },
        {
          type: "node",
          id: "n3",
          cls: "main",
          text: "Sauron",
          dataFullName: "Sauron",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/sauron.jpg",
          },
        },

        {
          type: "node",
          id: "Éomer",
          text: "Éomer",
          dataFullName: "Éomer",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/eomer.jpg",
          },
        },
        {
          type: "node",
          id: "Aragorn",
          text: "Aragorn",
          cls: "main",
          dataFullName: "Aragorn II Elessar",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/aragorn.jpg",
          },
        },
        {
          type: "node",
          id: "Gimli",
          text: "Gimli",
          cls: "main",
          dataFullName: "Gimli",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/gimli.jpg",
          },
        },
        {
          type: "node",
          id: "n4",
          cls: "main",
          text: "Gollum",
          dataFullName: "Gollum",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/gollum.jpg",
          },
        },
        {
          type: "node",
          id: "n1",
          cls: "main",
          text: "One Ring",
          dataFullName: "One Ring to Rule Them All",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/one_ring.jpg",
          },
        },
        {
          type: "node",
          id: "Witchking",
          text: "Witch-king",
          cls: "dark",
          dataFullName: "Witch-king of Angmar",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/witch-king.jpg",
          },
        },
        {
          type: "node",
          id: "Éowyn",
          text: "Éowyn",
          dataFullName: "Éowyn",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/eowyn.jpg",
          },
        },
        {
          type: "node",
          id: "Faramir",
          text: "Faramir",
          dataFullName: "Faramir",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/faramir.jpg",
          },
        },
        {
          type: "node",
          id: "Denethor",
          text: "Denethor",
          dataFullName: "Denethor II",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/denethor.jpg",
          },
        },
        {
          type: "node",
          id: "Gríma",
          text: "Gríma",
          cls: "dark",
          dataFullName: "Gríma Wormtongue",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/grima.jpg",
          },
        },

        {
          type: "node",
          id: "Saruman",
          text: "Saruman",
          cls: "dark",
          dataFullName: "Saruman",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/saruman.jpg",
          },
        },
        {
          type: "node",
          id: "Orcs",
          text: "Orcs",
          cls: "dark",
          dataFullName: "Orcs",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/orcs.jpg",
          },
        },
        {
          type: "node",
          id: "Boromir",
          text: "Boromir",
          cls: "main",
          dataFullName: "Boromir",
          style: {
            "background-fit": "xy",
            backgroundImage: "avatars/boromir.jpg",
          },
        },

        { type: "link", source: "n1", target: "n2" },
        { type: "link", source: "n1", target: "n3" },
        { type: "link", source: "n1", target: "n4" },

        { type: "link", source: "n2", target: "Frodo" },
        { type: "link", source: "n2", target: "Galadriel" },
        { type: "link", source: "n2", target: "Gimli" },
        { type: "link", source: "n2", target: "Gandalf" },
        { type: "link", source: "n2", target: "Aragorn" },

        { type: "link", source: "n5", target: "Frodo" },
        { type: "link", source: "n5", target: "Pippin" },
        { type: "link", source: "n5", target: "Sam" },
        { type: "link", source: "n5", target: "Merry" },

        { type: "link", source: "n6", target: "Legolas" },
        { type: "link", source: "n6", target: "Elrond" },
        { type: "link", source: "n6", target: "Arwen" },
        { type: "link", source: "n6", target: "Celeborn" },
        { type: "link", source: "n6", target: "Galadriel" },

        { type: "link", source: "n7", target: "Aragorn" },
        { type: "link", source: "n7", target: "Théoden" },
        { type: "link", source: "n7", target: "Éomer" },
        { type: "link", source: "n7", target: "Éowyn" },
        { type: "link", source: "n7", target: "Boromir" },
        { type: "link", source: "n7", target: "Faramir" },
        { type: "link", source: "n7", target: "Denethor" },

        { type: "link", source: "Gandalf", target: "Treebeard" },
        { type: "link", source: "Gandalf", target: "Gwaihir" },

        { type: "link", source: "n3", target: "Witchking" },
        { type: "link", source: "n3", target: "Orcs" },
        { type: "link", source: "n3", target: "Saruman" },
        { type: "link", source: "n3", target: "Gríma" },
      ];

      let chartConfig = {
        type: "tree",
        plot: {},
        plotarea: {
          margin: 0,
          backgroundImage: "background.jpg",
          backgroundFit: "xy",
          backgroundRepeat: false,
        },
        options: {
          aspect: "graph",
          springLength: 110,
          attractionConstant: 5,
          repulsionConstant: 15000,
          repulsionDistanceFactor: 20,
          node: {
            size: 30,
            borderWidth: 2,
            borderColor: textColor,
            backgroundColor: textColor,
            backgroundRepeat: "no-repeat",
            backgroundScale: 0.75,
            label: {
              color: textColor,
              fontFamily: "Ringbearer",
              fontWeight: "bold",
              fontSize: 12,
              offsetY: 40,
              width: 120,
            },
            tooltip: {
              alpha: 0.9,
              borderAlpha: 0.9,
              textAlpha: 1,
              text: "%data-full-name",
              textAlign: "left",
              "background-color": mainColor,
              "border-color": mainColor,
              "font-color": "white",
              "font-family": "ringbearer",
              "font-size": 12,
              fixed: true,
              offsetY: -45,
            },
          },
          "node[cls-main]": {
            size: 32,
            borderWidth: 2,
            borderColor: mainColor,
            label: {
              offsetY: 42,
            },
          },
          "node[cls-dark]": {
            size: 30,
            borderWidth: 2,
            borderColor: "black",
          },
          "node[cls-fam]": {
            size: 10,
            borderWidth: 2,
            borderColor: textColor,
            backgroundColor: textColor,
            label: {
              visible: false,
            },
          },
          link: {
            lineWidth: 3,
            lineColor: "white",
          },
        },
        source: {
          text: "visualisation <span style='font-family: Tahoma, Verdana;'>&copy;</span> shangjie lyu 2023",
          align: "center",
          color: textColor,
          fontSize: 18,
          fontFamily: "Ringbearer",
          marginBottom: 9,
        },
        series: chartData,
      };

      zingchart.render({
        id: "myChart",
        width: "100%",
        height: "100%",
        output: "canvas",
        data: chartConfig,
      });
    </script>
  </body>
</html>
